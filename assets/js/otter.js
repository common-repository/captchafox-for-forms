"use strict";(()=>{var u=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var l=(i,e,n)=>new Promise((o,a)=>{var d=t=>{try{r(n.next(t))}catch(s){a(s)}},c=t=>{try{r(n.throw(t))}catch(s){a(s)}},r=t=>t.done?o(t.value):Promise.resolve(t.value).then(d,c);r((n=n.apply(i,e)).next())});var g=u(w=>{document.addEventListener("DOMContentLoaded",function(){if(window.themeisleGutenbergForm){if(!window.themeisleGutenbergForm.reRecaptchaSitekey){console.warn("Open the Otter Blocks settings to set the sitekey for CaptchaFox");return}window.grecaptcha={},window.captchaFoxLoadOtter()}});window.captchaFoxLoadOtter=()=>{document.querySelectorAll(".wp-block-themeisle-blocks-form").forEach(e=>l(w,null,function*(){var n;(n=e==null?void 0:e.classList)!=null&&n.contains("has-captcha")&&(yield m(e))}))};const m=i=>l(w,null,function*(){var c,r;const{id:e}=i,n=document.createElement("div"),o=i.querySelector(".otter-form__container");if(o==null?void 0:o.querySelector(`#${e}`))return;n.id=e,o==null||o.insertBefore(n,o.lastChild);const d=yield(r=window.captchafox)==null?void 0:r.render(n,{sitekey:(c=window==null?void 0:window.themeisleGutenbergForm)==null?void 0:c.reRecaptchaSitekey,onError:t=>console.error(t),onVerify:t=>{var s;(s=window.themeisleGutenberg)!=null&&s.tokens||(window.themeisleGutenberg={},window.themeisleGutenberg.tokens={}),window.themeisleGutenberg.tokens[e]={token:t,reset:()=>{var h;return(h=window.captchafox)==null?void 0:h.reset(d)}}},onExpire:()=>{var t;(t=window.themeisleGutenberg)!=null&&t.tokens||(window.themeisleGutenberg={},window.themeisleGutenberg.tokens={}),window.themeisleGutenberg.tokens[e]={token:null,reset:()=>null}}})})});g();})();
